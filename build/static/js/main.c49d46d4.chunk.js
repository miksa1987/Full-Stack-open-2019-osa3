(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),l=n(2),u=n(3),i=n.n(u),m="/api/persons",s={border:"5px solid #ff0000",background:"solid #ffaaaa",textColor:"solid #ff0000"},f={border:"5px solid #00cc00",backgroundColor:"#aaffaa",textColor:"#00cc00"},p=function(e){return e.error&&""!==e.message?r.a.createElement("div",null,r.a.createElement("h3",{style:s},e.message)):e.error||""===e.message?null:r.a.createElement("div",null,r.a.createElement("h3",{style:f},e.message))},d=function(e){return r.a.createElement("div",null,r.a.createElement("li",null,e.name," ",e.number,r.a.createElement("button",{onClick:function(){return e.deleteNumber(e.id,e.name)}},"poista")))},b=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],u=function(t,n){if(window.confirm("Poistetaanko ".concat(n," ?"))){!function(e){i.a.delete("".concat(m,"/").concat(e))}(t);var a=e.people.filter(function(e){return e.id!==t});e.setpeople(a),c("".concat(n," poistettu.")),setTimeout(function(){c("")},2e3)}};return r.a.createElement("div",null,r.a.createElement("h2",null,"Numerot"),r.a.createElement("ul",null,r.a.createElement(p,{message:o,error:"true"}),e.people.filter(function(t){return t.name.toLowerCase().includes(e.filter)}).map(function(e){return r.a.createElement(d,{key:e.id,name:e.name,number:e.number,id:e.id,deleteNumber:u})})))},v=n(12),E=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",r.a.createElement("input",{name:"search",onChange:function(t){return e.filter(t.target.value)}}))},g=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(!1),s=Object(l.a)(u,2),f=s[0],d=s[1];return r.a.createElement("div",null,r.a.createElement(p,{error:f,message:o}),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),e.people.map(function(e){return e.name}).indexOf(t.target.name.value)>-1){if(window.confirm("".concat(t.target.name.value," on jo luettelossa, p\xe4ivitet\xe4\xe4nk\xf6 numbero?"))){var n=e.people.find(function(e){return e.name===t.target.name.value}),a=Object(v.a)({},n,{number:t.target.number.value});console.log(a),(r=a.id,o=a,i.a.put("".concat(m,"/").concat(r),o)).then(function(t){e.setPeople(e.people.map(function(e){return e.id!==a.id?e:t.data})),c("".concat(a.name," numero p\xe4ivitetty.")),setTimeout(function(){c("")},2e3)}).catch(function(e){c("".concat(a.name," ei voitu p\xe4ivitt\xe4\xe4.")),d(!0),setTimeout(function(){c(""),d(!1)},2e3)})}}else{var r,o,l={name:t.target.name.value,number:t.target.number.value};(function(e){return i.a.post(m,e)})(l).then(function(e){c("".concat(l.name," lis\xe4tty.")),setTimeout(function(){c("")},2e3)}).catch(function(e){console.log(e.message),c("".concat(l.name," ei voitu lis\xe4t\xe4.")),d(!0),setTimeout(function(){c(""),d(!1)},2e3)});var u=e.people.concat(l);e.setPeople(u)}}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{name:"name"})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{name:"number"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},j=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),u=Object(l.a)(c,2),s=u[0],f=u[1];return Object(a.useEffect)(function(){i.a.get(m).then(function(e){return o(e.data)})},[]),r.a.createElement("div",null,r.a.createElement(E,{filter:f}),r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(g,{setPeople:o,people:n}),r.a.createElement(b,{setpeople:o,people:n,filter:s}))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c49d46d4.chunk.js.map