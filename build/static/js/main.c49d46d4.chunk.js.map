{"version":3,"sources":["service/CommService.js","components/Message.js","components/People.js","components/Forms.js","App.js","index.js"],"names":["dbURI","errorStyle","border","background","textColor","successStyle","backgroundColor","Message","props","error","message","react_default","a","createElement","style","Person","name","number","onClick","deleteNumber","id","People","_useState","useState","_useState2","Object","slicedToArray","setMessage","window","confirm","concat","axios","delete","DESTROY","newPeople","people","filter","person","setpeople","setTimeout","components_Message","toLowerCase","includes","map","People_Person","key","Searchform","onChange","event","target","value","Addform","_useState3","_useState4","setError","onSubmit","preventDefault","indexOf","find","updatedName","objectSpread","console","log","content","put","then","response","setPeople","data","catch","newName","post","create","type","App","setFilter","useEffect","get","Forms_Searchform","Forms_Addform","components_People","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c49d46d4.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst dbURI = '/api/persons'\n\nconst getAll = () => {\n  const response = axios.get(dbURI)\n  return response\n}\n\nconst create = (content) => {\n  const response = axios.post(dbURI, content)\n  return response\n}\n\nconst update = (id, content) => {\n  const response = axios.put(`${dbURI}/${id}`, content)\n  return response\n}\n\nconst DESTROY = (id) => axios.delete(`${dbURI}/${id}`)\n\nexport { getAll, create, update, DESTROY }\n","import React from 'react'\n\n// Huom. tyylien kanssa mulla on yhtä paljon silmää kuin kurssin opettajalla. Ei pahalla.\nconst errorStyle = {\n  border: '5px solid #ff0000',\n  background: 'solid #ffaaaa',\n  textColor: 'solid #ff0000'\n}\n\nconst successStyle = {\n  border: '5px solid #00cc00',\n  backgroundColor: '#aaffaa',\n  textColor: '#00cc00'\n}\n\nconst Message = (props) => {\n  if(props.error && props.message !== '') {\n    return ( <div><h3 style={errorStyle}>{props.message}</h3></div> )\n  }\n  else if(!props.error && props.message !== '') {\n    return ( <div><h3 style={successStyle}>{props.message}</h3></div> )\n  }\n  else { return null }\n}\n\nexport default Message\n","import React, {useState} from 'react'\nimport { DESTROY } from '../service/CommService'\nimport Message from './Message'\n\nconst Person = (props) => (\n  <div><li>{props.name} {props.number}\n  <button onClick={() => props.deleteNumber(props.id, props.name)}>poista</button></li></div>\n)\n\nconst People = (props) => {\n  const [message, setMessage] = useState('')\n\n  const deleteNumber = (id, name) => {\n    if(window.confirm(`Poistetaanko ${name} ?`)) {\n      DESTROY(id)\n      const newPeople = props.people.filter(person => person.id !== id)\n      props.setpeople(newPeople)\n      setMessage(`${name} poistettu.`)\n      setTimeout(() => { setMessage('') }, 2000)\n    }\n  }\n\n  return ( <div>\n    <h2>Numerot</h2><ul>\n    <Message message={message} error='true' />\n    {props.people.filter(person => person.name.toLowerCase().includes(props.filter)).map(person =>\n      <Person key={person.id} name={person.name} number={person.number} id={person.id} deleteNumber={deleteNumber}/>)}\n  </ul></div> )\n}\n\nexport default People\n","import React, {useState} from 'react'\nimport { create, update } from '../service/CommService'\nimport Message from './Message'\n\nconst Searchform = (props) => {\n  const searchChange = (event) => props.filter(event.target.value)\n  return ( <div>rajaa näytettäviä <input name=\"search\" onChange={searchChange} /></div>)\n}\n\nconst Addform = (props) => {\n  const [message, setMessage] = useState('')\n  const [error, setError] = useState(false)\n\n  const submitName = (event) => {\n    event.preventDefault()\n\n    if( props.people.map(person => person.name).indexOf(event.target.name.value) > -1) {\n      if(window.confirm(`${event.target.name.value} on jo luettelossa, päivitetäänkö numbero?`)) {\n        const name = props.people.find(person => person.name === event.target.name.value)\n        const updatedName = { ...name, number: event.target.number.value }\n        console.log(updatedName)\n\n        update(updatedName.id, updatedName)\n          .then(response => {\n            props.setPeople(props.people.map(person => person.id !== updatedName.id ? person : response.data))\n            setMessage(`${updatedName.name} numero päivitetty.`)\n            setTimeout(() => { setMessage('') }, 2000)  })\n          .catch(error => {\n            setMessage(`${updatedName.name} ei voitu päivittää.`)\n            setError(true)\n            setTimeout(() => {\n              setMessage('')\n              setError(false) }, 2000)\n          })\n      }\n      return\n    }\n\n    const newName = {\n      name: event.target.name.value,\n      number: event.target.number.value }\n\n    create(newName)\n      .then(response => {\n        setMessage(`${newName.name} lisätty.`)\n        setTimeout(() => { setMessage('') }, 2000)})\n      .catch(error => {\n        console.log(error.message)\n        setMessage(`${newName.name} ei voitu lisätä.`)\n        setError(true)\n        setTimeout(() => {\n          setMessage('')\n          setError(false) }, 2000)\n      })\n\n    const newPeople = props.people.concat(newName)\n    props.setPeople(newPeople)\n  }\n\n  return (<div>\n    <Message error={error} message={message} />\n    <form onSubmit={submitName}>\n    <div>\n        nimi: <input name=\"name\" />\n      </div>\n      <div>\n        numero: <input name=\"number\" />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form></div>)\n}\n\nexport { Searchform, Addform }\n","import React, { useState, useEffect } from 'react'\nimport People from './components/People'\nimport { Searchform, Addform } from './components/Forms'\nimport { getAll } from './service/CommService'\n\nconst App = () => {\n  const [ people, setPeople] = useState([])\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    getAll()\n      .then(response => setPeople(response.data))\n  }, [])\n\n  return (\n    <div>\n      <Searchform filter={setFilter} />\n      <h2>Puhelinluettelo</h2>\n      <Addform setPeople={setPeople} people={people} />\n      <People setpeople={setPeople} people={people} filter={filter} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}